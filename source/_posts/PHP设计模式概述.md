---
title: PHP设计模式概述
urlname: php-design-patterns-sketch
date: 2018-03-31 19:42:57
category: 设计模式
tags: design-patterns
---

设计模式提供了一种广泛的可重用的方式来解决我们日常编程中常常遇见的问题。它并不是一个类库或者第三方框架，更多的表现为一种思想，并且广泛地应用在系统中。它们也表现为一种模式或者模板，可以在多个不同的场景下用于解决问题。

<!-- more -->

设计模式可以用于加速开发，并且将很多大的想法或者设计以一种简单地方式实现。当然，虽然设计模式在开发中很有作用，但是千万要避免在不适当的场景误用它们。

目前 PHP 的设计模式主要有 23 种，根据使用目标的不同可以分为以下三大类：

- 创建模式（Creational Patterns）：用于创建对象从而将某个对象从实现中解耦合。
- 架构模式（Structural Patterns）：用于在不同的对象之间构造大的对象结构。
- 行为模式（Behavioral Patterns）：用于在不同的对象之间管理算法、关系以及职责。

### 设计模式六大原则

`SOLID` 是 Michael Feathers 推荐的便于记忆的首字母简写，它代表了 Robert Martin 命名的最重要的五个面对对象编码设计原则：

#### 职责单一原则（SRP，Single Responsibility Principle）

一个类只负责一件事。

#### 开闭原则（OCP，Open/Closed Principle）

一个软件实体如类、模块和函数应该对扩展开放，对修改关闭。
你应该允许在不改变已有代码的情况下增加新的功能。

#### 里氏替换原则（LSP，Liskov Substitution Principle）

这是一个简单的原则，却用了一个不好理解的术语。
对这个概念最好的解释是：如果你有一个父类和一个子类，在不改变原有结果正确性的前提下父类和子类可以互换。

#### 接口隔离原则（ISP，Interface Segregation Principle）

调用方不应该被强制依赖于他不需要的接口。
当一个类需要一个大量的设置项，为了方便不会要求调用方去设置大量的选项，因为在通常他们不需要所有的设置项。使设置项可选有助于我们避免产生"胖接口"

#### 依赖反转原则（DIP，Dependency Inversion Principle）

这条原则说明两个基本的要点：

1. 高阶的模块不应该依赖低阶的模块，它们都应该依赖于抽象
2. 抽象不应该依赖于实现，实现应该依赖于抽象

看起来有点晦涩难懂，但是如果你使用过框架（例如Symfony），你应该见过依赖注入（DI）对这个概念的实现。虽然它们不是完全相通的概念，依赖倒置原则使高阶模块与低阶模块的实现细节和创建分离。可以使用依赖注入（DI）这种方式来实现它。更多的好处是它使模块之间解耦。

在加上下面这条原则，构成设计模式六大原则

#### 迪米特法则（Law of Demeter）

又叫作最少知识原则（LKP，Least Knowledge Principle），一个对象应该对其他对象保持最少的了解。
