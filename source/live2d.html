---
layout: false
permalink: /live2d.html
---
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>live2d</title>
    <link rel="icon" href="/favicon.png">
    <script>

        //网页当前状态判断
        var hidden, state, visibilityChange, timer;
        var leaveTitle = '(●-●) 我奔溃啦~';
        var stayTitle = '(*´∇｀*) 被发现啦~';
        var defaultTitle = document.title;
        var resetTime = 1000;

        leaveTitle += document.title;
        stayTitle += document.title;


        if (typeof document.hidden !== "undefined") {
            hidden = "hidden";
            visibilityChange = "visibilitychange";
            state = "visibilityState";
        } else if (typeof document.mozHidden !== "undefined") {
            hidden = "mozHidden";
            visibilityChange = "mozvisibilitychange";
            state = "mozVisibilityState";
        } else if (typeof document.msHidden !== "undefined") {
            hidden = "msHidden";
            visibilityChange = "msvisibilitychange";
            state = "msVisibilityState";
        } else if (typeof document.webkitHidden !== "undefined") {
            hidden = "webkitHidden";
            visibilityChange = "webkitvisibilitychange";
            state = "webkitVisibilityState";
        }
        // 添加监听器，在title里显示状态变化
        document.addEventListener(visibilityChange, function () {
            if (timer != null) clearTimeout(timer);
            if (document[state] === 'visible') {
                document.title = stayTitle;
                timer = setTimeout(function () {
                    document.title = defaultTitle;
                }, resetTime)
            }
            else {
                document.title = leaveTitle;
            }
        }, false);
        //初始化页面状态
        document.title = document[state] === 'visible' ? stayTitle : leaveTitle;

    </script>
    <style>
        body {
            background-color: #1a9fe0;
        }
        #live2dcanvas {
            position: fixed;
            width: 150px;
            height: 300px;
            opacity: 0.7;
            left: 45%;
            z-index: 999;
            pointer-events: none;
            bottom: 60px;
        }
    </style>
</head>
<body>
<div id="hexo-helper-live2d">
    <canvas id="live2dcanvas" width="150" height="300"></canvas>
</div>
<script type="text/javascript" src="/js/live2d/device.min.js"></script>
<script type="text/javascript">
    const loadScript = function loadScript(c, b) {
        var a = document.createElement("script");
        a.type = "text/javascript";
        "undefined" != typeof b && (a.readyState ? a.onreadystatechange = function () {
            if ("loaded" == a.readyState || "complete" == a.readyState) a.onreadystatechange = null, b()
        } : a.onload = function () {
            b()
        });
        a.src = c;
        document.body.appendChild(a)
    };
    (function () {
        if ((typeof (device) != 'undefined') && (device.mobile())) {
            document.getElementById("live2dcanvas").style.width = '150px';
            document.getElementById("live2dcanvas").style.height = '300px';
        } else if (typeof (device) === 'undefined') console.error('Cannot find current-device script.');
        loadScript("/live2d/script.js", function () {
            loadlive2d("live2dcanvas", "/live2d/assets/tororo.model.json", 0.5);
        });
    })();
</script>
</body>
</html>